/*! For license information please see 72.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcrypto_earning=self.webpackChunkcrypto_earning||[]).push([[72],{2691:(n,e,r)=>{r.r(e),r.d(e,{default:()=>S});var t=r(6540),a=r(2979),o=r(5072),i=r.n(o),l=r(7825),s=r.n(l),d=r(7659),c=r.n(d),p=r(5056),u=r.n(p),f=r(540),b=r.n(f),m=r(1113),g=r.n(m),v=r(5454),x={};function y(){var n,e,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,t,a,o){var s=t&&t.prototype instanceof l?t:l,d=Object.create(s.prototype);return h(d,"_invoke",function(r,t,a){var o,l,s,d=0,c=a||[],p=!1,u={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,r){return o=e,l=0,s=n,u.n=r,i}};function f(r,t){for(l=r,s=t,e=0;!p&&d&&!a&&e<c.length;e++){var a,o=c[e],f=u.p,b=o[2];r>3?(a=b===t)&&(s=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=n):o[0]<=f&&((a=r<2&&f<o[1])?(l=0,u.v=t,u.n=o[1]):f<b&&(a=r<3||o[0]>t||t>b)&&(o[4]=r,o[5]=t,u.n=b,l=0))}if(a||r>1)return i;throw p=!0,t}return function(a,c,b){if(d>1)throw TypeError("Generator is already running");for(p&&1===c&&f(c,b),l=c,s=b;(e=l<2?n:s)||!p;){o||(l?l<3?(l>1&&(u.n=-1),f(l,s)):u.n=s:u.v=s);try{if(d=2,o){if(l||(a="next"),e=o[a]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=o.return)&&e.call(o),l<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=n}else if((e=(p=u.n<0)?s:r.call(t,u))!==i)break}catch(e){o=n,l=1,s=e}finally{d=1}}return{value:e,done:p}}}(r,a,o),!0),d}var i={};function l(){}function s(){}function d(){}e=Object.getPrototypeOf;var c=[][t]?e(e([][t]())):(h(e={},t,function(){return this}),e),p=d.prototype=l.prototype=Object.create(c);function u(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,d):(n.__proto__=d,h(n,a,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=d,h(p,"constructor",d),h(d,"constructor",s),s.displayName="GeneratorFunction",h(d,a,"GeneratorFunction"),h(p),h(p,a,"Generator"),h(p,t,function(){return this}),h(p,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:u}})()}function h(n,e,r,t){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}h=function(n,e,r,t){function o(e,r){h(n,e,function(n){return this._invoke(e,r,n)})}e?a?a(n,e,{value:r,enumerable:!t,configurable:!t,writable:!t}):n[e]=r:(o("next",0),o("throw",1),o("return",2))},h(n,e,r,t)}function k(n){return function(n){if(Array.isArray(n))return N(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||z(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n,e,r,t,a,o,i){try{var l=n[o](i),s=l.value}catch(n){return void r(n)}l.done?e(s):Promise.resolve(s).then(t,a)}function E(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o,i,l=[],s=!0,d=!1;try{if(o=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=o.call(r)).done)&&(l.push(t.value),l.length!==e);s=!0);}catch(n){d=!0,a=n}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}(n,e)||z(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(n,e){if(n){if("string"==typeof n)return N(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(n,e):void 0}}function N(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}x.styleTagTransform=g(),x.setAttributes=u(),x.insert=c().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=b(),i()(v.A,x),v.A&&v.A.locals&&v.A.locals;const S=function(n){var e=n.user,r=E((0,t.useState)("points"),2),o=r[0],i=r[1],l=E((0,t.useState)({points:[],earnings:[],streak:[]}),2),s=l[0],d=l[1],c=E((0,t.useState)({points:{rank:0,total:0},earnings:{rank:0,total:0},streak:{rank:0,total:0}}),2),p=c[0],u=c[1];return(0,t.useEffect)(function(){var n=function(){var n,r=(n=y().m(function n(){var r,t,o,i,l,s,c,p,f,b,m,g,v;return y().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,Promise.all([a.db.getLeaderboard("points",10),a.db.getLeaderboard("earnings",10),a.db.getLeaderboard("streak",10),a.db.getAllUsers()]);case 1:r=n.v,t=E(r,4),o=t[0],i=t[1],l=t[2],s=t[3],c=o.map(function(n,e){return{rank:e+1,username:n.username,avatar:n.avatar,points:n.points,vipLevel:n.vip_level||n.vipLevel}}),p=i.map(function(n,e){var r,t;return{rank:e+1,username:n.username,avatar:n.avatar,earnings:(null===(r=n.balances)||void 0===r?void 0:r.ton)||(null===(t=n.balance)||void 0===t?void 0:t.ton)||0,currency:"TON"}}),f=l.map(function(n,e){return{rank:e+1,username:n.username,avatar:n.avatar,streak:n.day_streak||n.dayStreak||0,points:n.points}}),d({points:c,earnings:p,streak:f}),b=s.findIndex(function(n){return n.userId===e.userId})+1,m=k(s).sort(function(n,e){var r,t;return((null===(r=e.balance)||void 0===r?void 0:r.ton)||0)-((null===(t=n.balance)||void 0===t?void 0:t.ton)||0)}).findIndex(function(n){return n.userId===e.userId})+1,g=k(s).sort(function(n,e){return(e.dayStreak||0)-(n.dayStreak||0)}).findIndex(function(n){return n.userId===e.userId})+1,u({points:{rank:b||s.length+1,total:s.length},earnings:{rank:m||s.length+1,total:s.length},streak:{rank:g||s.length+1,total:s.length}}),n.n=3;break;case 2:n.p=2,v=n.v,console.error("Error fetching leaderboard data:",v);case 3:return n.a(2)}},n,null,[[0,2]])}),function(){var e=this,r=arguments;return new Promise(function(t,a){var o=n.apply(e,r);function i(n){w(o,t,a,i,l,"next",n)}function l(n){w(o,t,a,i,l,"throw",n)}i(void 0)})});return function(){return r.apply(this,arguments)}}();n()},[e.userId]),t.createElement("div",{className:"leaderboard-page"},t.createElement("div",{className:"page-header"},t.createElement("h1",{className:"page-title"},"ðŸ† Leaderboard"),t.createElement("p",{className:"page-subtitle"},"Compete with players worldwide")),t.createElement("div",{className:"user-rank-card"},t.createElement("div",{className:"user-rank-info"},t.createElement("div",{className:"user-rank-avatar"},e.avatar),t.createElement("div",{className:"user-rank-details"},t.createElement("h3",null,e.username),t.createElement("p",null,"Your Rank: #",p[o].rank," of ",p[o].total))),t.createElement("div",{className:"user-rank-stats"},t.createElement("div",{className:"rank-stat"},t.createElement("span",{className:"rank-stat-value"},e.points.toLocaleString()),t.createElement("span",{className:"rank-stat-label"},"Points")),t.createElement("div",{className:"rank-stat"},t.createElement("span",{className:"rank-stat-value"},"Level ",e.vipLevel),t.createElement("span",{className:"rank-stat-label"},"VIP")))),t.createElement("div",{className:"leaderboard-tabs"},t.createElement("button",{className:"points"===o?"active":"",onClick:function(){return i("points")}},"ðŸ’Ž Points"),t.createElement("button",{className:"earnings"===o?"active":"",onClick:function(){return i("earnings")}},"ðŸ’° Earnings"),t.createElement("button",{className:"streak"===o?"active":"",onClick:function(){return i("streak")}},"ðŸ”¥ Streak")),t.createElement("div",{className:"leaderboard-list"},s[o].map(function(n){return t.createElement("div",{key:n.rank,className:"leaderboard-item ".concat((e=n.rank,1===e?"gold":2===e?"silver":3===e?"bronze":"default"))},t.createElement("div",{className:"rank-badge"},function(n){return 1===n?"ðŸ¥‡":2===n?"ðŸ¥ˆ":3===n?"ðŸ¥‰":"#".concat(n)}(n.rank)),t.createElement("div",{className:"player-avatar"},n.avatar),t.createElement("div",{className:"player-info"},t.createElement("h4",null,n.username),"points"===o&&t.createElement("p",null,n.points.toLocaleString()," points â€¢ VIP ",n.vipLevel),"earnings"===o&&t.createElement("p",null,n.earnings.toFixed(2)," ",n.currency),"streak"===o&&t.createElement("p",null,n.streak," days â€¢ ",n.points.toLocaleString()," pts")),n.rank<=3&&t.createElement("div",{className:"trophy-icon"},1===n.rank&&"ðŸ‘‘",2===n.rank&&"ðŸ¥ˆ",3===n.rank&&"ðŸ¥‰"));var e})),t.createElement("div",{className:"leaderboard-footer"},t.createElement("p",null,"ðŸ”„ Updates every hour"),t.createElement("p",null,"Keep playing to climb the ranks!")))}},5454:(n,e,r)=>{r.d(e,{A:()=>l});var t=r(1601),a=r.n(t),o=r(6314),i=r.n(o)()(a());i.push([n.id,".leaderboard-page {\n  padding-bottom: 20px;\n}\n\n.user-rank-card {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 20px;\n  padding: 24px;\n  margin-bottom: 24px;\n  color: white;\n  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);\n}\n\n.user-rank-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.user-rank-avatar {\n  width: 60px;\n  height: 60px;\n  background: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n}\n\n.user-rank-details h3 {\n  font-size: 20px;\n  margin-bottom: 4px;\n}\n\n.user-rank-details p {\n  opacity: 0.9;\n  font-size: 14px;\n}\n\n.user-rank-stats {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n}\n\n.rank-stat {\n  background: rgba(255, 255, 255, 0.2);\n  padding: 12px;\n  border-radius: 12px;\n  text-align: center;\n  backdrop-filter: blur(10px);\n}\n\n.rank-stat-value {\n  display: block;\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: 4px;\n}\n\n.rank-stat-label {\n  display: block;\n  font-size: 12px;\n  opacity: 0.9;\n}\n\n.leaderboard-tabs {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  margin-bottom: 20px;\n  background: white;\n  padding: 6px;\n  border-radius: 16px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);\n}\n\n.leaderboard-tabs button {\n  padding: 12px;\n  border: none;\n  background: transparent;\n  border-radius: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  color: #666;\n  font-size: 14px;\n}\n\n.leaderboard-tabs button.active {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);\n}\n\n.leaderboard-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 24px;\n}\n\n.leaderboard-item {\n  background: white;\n  border-radius: 16px;\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  gap: 14px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n}\n\n.leaderboard-item:hover {\n  transform: translateX(5px);\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.15);\n}\n\n.leaderboard-item.gold {\n  background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);\n  color: white;\n  border-color: #FFD700;\n}\n\n.leaderboard-item.silver {\n  background: linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%);\n  color: white;\n  border-color: #C0C0C0;\n}\n\n.leaderboard-item.bronze {\n  background: linear-gradient(135deg, #CD7F32 0%, #B87333 100%);\n  color: white;\n  border-color: #CD7F32;\n}\n\n.rank-badge {\n  font-size: 20px;\n  font-weight: 800;\n  min-width: 40px;\n  text-align: center;\n}\n\n.leaderboard-item.gold .rank-badge,\n.leaderboard-item.silver .rank-badge,\n.leaderboard-item.bronze .rank-badge {\n  font-size: 28px;\n}\n\n.player-avatar {\n  width: 50px;\n  height: 50px;\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.leaderboard-item.gold .player-avatar,\n.leaderboard-item.silver .player-avatar,\n.leaderboard-item.bronze .player-avatar {\n  background: rgba(255, 255, 255, 0.3);\n}\n\n.player-info {\n  flex: 1;\n}\n\n.player-info h4 {\n  font-size: 16px;\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n\n.player-info p {\n  font-size: 13px;\n  opacity: 0.8;\n}\n\n.leaderboard-item:not(.gold):not(.silver):not(.bronze) .player-info h4 {\n  color: #333;\n}\n\n.leaderboard-item:not(.gold):not(.silver):not(.bronze) .player-info p {\n  color: #666;\n}\n\n.trophy-icon {\n  font-size: 32px;\n  animation: float 3s ease-in-out infinite;\n}\n\n.leaderboard-footer {\n  text-align: center;\n  padding: 20px;\n  background: rgba(102, 126, 234, 0.05);\n  border-radius: 16px;\n}\n\n.leaderboard-footer p {\n  color: #666;\n  font-size: 14px;\n  margin: 4px 0;\n}\n\n.leaderboard-footer p:first-child {\n  font-weight: 600;\n  color: #667eea;\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px) rotate(0deg); }\n  50% { transform: translateY(-10px) rotate(10deg); }\n}\n\n@media (max-width: 768px) {\n  .user-rank-card {\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n  \n  .user-rank-avatar {\n    width: 50px;\n    height: 50px;\n    font-size: 28px;\n  }\n  \n  .user-rank-details h3 {\n    font-size: 18px;\n  }\n  \n  .user-rank-details p {\n    font-size: 13px;\n  }\n  \n  .rank-stat-value {\n    font-size: 18px;\n  }\n  \n  .leaderboard-tabs button {\n    padding: 10px;\n    font-size: 13px;\n  }\n  \n  .leaderboard-item {\n    padding: 14px;\n    gap: 12px;\n  }\n  \n  .rank-badge {\n    font-size: 18px;\n    min-width: 35px;\n  }\n  \n  .player-avatar {\n    width: 44px;\n    height: 44px;\n    font-size: 24px;\n  }\n  \n  .player-info h4 {\n    font-size: 15px;\n  }\n  \n  .player-info p {\n    font-size: 12px;\n  }\n  \n  .trophy-icon {\n    font-size: 28px;\n  }\n}\n",""]);const l=i}}]);